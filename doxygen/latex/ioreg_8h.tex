\hypertarget{ioreg_8h}{}\section{src/nes/mapper/ioreg.h File Reference}
\label{ioreg_8h}\index{src/nes/mapper/ioreg.\+h@{src/nes/mapper/ioreg.\+h}}


header file of \hyperlink{struct_i_o_reg}{I\+O\+Reg} module  


{\ttfamily \#include \char`\"{}mapper.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../cpu/cpu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../ppu/ppu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../controller/controller.\+h\char`\"{}}\newline
Include dependency graph for ioreg.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{ioreg_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=197pt]{ioreg_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_i_o_reg}{I\+O\+Reg}
\begin{DoxyCompactList}\small\item\em Register use to communicate with \hyperlink{struct_p_p_u}{P\+PU}, A\+PU and joystick. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0}{Acknowledge} \{ \hyperlink{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0a5290bc211f15f412b006ffd706c1e634}{A\+C\+\_\+\+NO} = 0, 
\hyperlink{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0a0bed031223ee349ca0a515fe19c547f0}{A\+C\+\_\+\+RD} = 16, 
\hyperlink{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0ab4abb52ddbcc6d8ec2d809b6282b8bd1}{A\+C\+\_\+\+WR} = 32
 \}\begin{DoxyCompactList}\small\item\em Type of access. \end{DoxyCompactList}
\item 
\mbox{\Hypertarget{ioreg_8h_a30a71329f3a6fcf7e2c5d52525002cc3}\label{ioreg_8h_a30a71329f3a6fcf7e2c5d52525002cc3}} 
enum \hyperlink{ioreg_8h_a30a71329f3a6fcf7e2c5d52525002cc3}{Bank1\+Register} \{ \newline
{\bfseries P\+P\+U\+C\+T\+RL} = 0, 
{\bfseries P\+P\+U\+M\+A\+SK}, 
{\bfseries P\+P\+U\+S\+T\+A\+T\+US}, 
{\bfseries O\+A\+M\+A\+D\+DR}, 
\newline
{\bfseries O\+A\+M\+D\+A\+TA}, 
{\bfseries P\+P\+U\+S\+C\+R\+O\+LL}, 
{\bfseries P\+P\+U\+A\+D\+DR}, 
{\bfseries P\+P\+U\+D\+A\+TA}
 \}\begin{DoxyCompactList}\small\item\em Mnemonic for Bank 1 registers. \end{DoxyCompactList}
\item 
\mbox{\Hypertarget{ioreg_8h_a9657e26cc559be8a7adeb2aaea6a0870}\label{ioreg_8h_a9657e26cc559be8a7adeb2aaea6a0870}} 
enum \hyperlink{ioreg_8h_a9657e26cc559be8a7adeb2aaea6a0870}{Bank2\+Register} \{ \newline
{\bfseries S\+Q1\+\_\+\+V\+OL} = 0, 
{\bfseries S\+Q1\+\_\+\+S\+W\+E\+EP}, 
{\bfseries S\+Q1\+\_\+\+LO}, 
{\bfseries S\+Q1\+\_\+\+HI}, 
\newline
{\bfseries S\+Q2\+\_\+\+V\+OL}, 
{\bfseries S\+Q2\+\_\+\+S\+W\+E\+EP}, 
{\bfseries S\+Q2\+\_\+\+LO}, 
{\bfseries S\+Q2\+\_\+\+HI}, 
\newline
{\bfseries T\+R\+I\+\_\+\+L\+I\+N\+E\+AR}, 
{\bfseries B\+A\+N\+K2\+\_\+\+U\+N\+U\+S\+E\+D1}, 
{\bfseries T\+R\+I\+\_\+\+LO}, 
{\bfseries T\+R\+I\+\_\+\+HI}, 
\newline
{\bfseries N\+O\+I\+S\+E\+\_\+\+V\+OL}, 
{\bfseries B\+A\+N\+K2\+\_\+\+U\+N\+U\+S\+E\+D2}, 
{\bfseries N\+O\+I\+S\+E\+\_\+\+LO}, 
{\bfseries N\+O\+I\+S\+E\+\_\+\+HI}, 
\newline
{\bfseries D\+M\+C\+\_\+\+F\+R\+EQ}, 
{\bfseries D\+M\+C\+\_\+\+R\+AW}, 
{\bfseries D\+M\+C\+\_\+\+S\+T\+A\+RT}, 
{\bfseries D\+M\+C\+\_\+\+L\+EN}, 
\newline
{\bfseries O\+A\+M\+D\+MA}, 
{\bfseries S\+N\+D\+\_\+\+C\+HN}, 
{\bfseries J\+O\+Y1}, 
{\bfseries J\+O\+Y2}
 \}\begin{DoxyCompactList}\small\item\em Mnemonic for Bank 2 registers. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_i_o_reg}{I\+O\+Reg} $\ast$ \hyperlink{ioreg_8h_a8250f90a802b6c70eb0bb3623df8171d}{I\+O\+Reg\+\_\+\+Create} (void)
\begin{DoxyCompactList}\small\item\em Instanciation of \hyperlink{struct_i_o_reg}{I\+O\+Reg}. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{ioreg_8h_a050b34fa7b8346d8ea93be49a00beef0}{I\+O\+Reg\+\_\+\+Connect} (\hyperlink{struct_i_o_reg}{I\+O\+Reg} $\ast$self, \hyperlink{struct_c_p_u}{C\+PU} $\ast$cpu, \hyperlink{struct_p_p_u}{P\+PU} $\ast$ppu, \hyperlink{struct_controller}{Controller} $\ast$ctrl)
\begin{DoxyCompactList}\small\item\em I\+O\+Reg\+\_\+\+Connect. \end{DoxyCompactList}\item 
uint8\+\_\+t $\ast$ \hyperlink{ioreg_8h_a16528b558e5d5d79b739fdf66993b4d6}{I\+O\+Reg\+\_\+\+Get} (\hyperlink{struct_i_o_reg}{I\+O\+Reg} $\ast$self, uint8\+\_\+t access\+Type, uint16\+\_\+t address)
\begin{DoxyCompactList}\small\item\em Get pointer to access IO register. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{ioreg_8h_af56c6a4168ccbc88da6a5d1984133c0b}{I\+O\+Reg\+\_\+\+Ack} (\hyperlink{struct_i_o_reg}{I\+O\+Reg} $\ast$self, uint16\+\_\+t address)
\begin{DoxyCompactList}\small\item\em Check if the selected IO register was accessed before and acknowledge it. \end{DoxyCompactList}\item 
void \hyperlink{ioreg_8h_a0d350409c35be2798ddd95b017a4ea9c}{I\+O\+Reg\+\_\+\+Destroy} (\hyperlink{struct_i_o_reg}{I\+O\+Reg} $\ast$self)
\begin{DoxyCompactList}\small\item\em Free instance of \hyperlink{struct_i_o_reg}{I\+O\+Reg}. \end{DoxyCompactList}\item 
\hyperlink{struct_i_o_reg}{I\+O\+Reg} $\ast$ \hyperlink{ioreg_8h_a196fef356357d5def1eebe5a1438f567}{I\+O\+Reg\+\_\+\+Extract} (\hyperlink{struct_mapper}{Mapper} $\ast$mapper)
\begin{DoxyCompactList}\small\item\em I\+O\+Reg\+\_\+\+Extract. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
header file of \hyperlink{struct_i_o_reg}{I\+O\+Reg} module 

\begin{DoxyAuthor}{Author}
Dylan Gageot 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2019-\/03-\/31 
\end{DoxyDate}


\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0}\label{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0}} 
\index{ioreg.\+h@{ioreg.\+h}!Acknowledge@{Acknowledge}}
\index{Acknowledge@{Acknowledge}!ioreg.\+h@{ioreg.\+h}}
\subsubsection{\texorpdfstring{Acknowledge}{Acknowledge}}
{\footnotesize\ttfamily enum \hyperlink{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0}{Acknowledge}}



Type of access. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+C\+\_\+\+NO@{A\+C\+\_\+\+NO}!ioreg.\+h@{ioreg.\+h}}\index{ioreg.\+h@{ioreg.\+h}!A\+C\+\_\+\+NO@{A\+C\+\_\+\+NO}}}\mbox{\Hypertarget{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0a5290bc211f15f412b006ffd706c1e634}\label{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0a5290bc211f15f412b006ffd706c1e634}} 
A\+C\+\_\+\+NO&Transparent access \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+C\+\_\+\+RD@{A\+C\+\_\+\+RD}!ioreg.\+h@{ioreg.\+h}}\index{ioreg.\+h@{ioreg.\+h}!A\+C\+\_\+\+RD@{A\+C\+\_\+\+RD}}}\mbox{\Hypertarget{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0a0bed031223ee349ca0a515fe19c547f0}\label{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0a0bed031223ee349ca0a515fe19c547f0}} 
A\+C\+\_\+\+RD&Set register as read \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+C\+\_\+\+WR@{A\+C\+\_\+\+WR}!ioreg.\+h@{ioreg.\+h}}\index{ioreg.\+h@{ioreg.\+h}!A\+C\+\_\+\+WR@{A\+C\+\_\+\+WR}}}\mbox{\Hypertarget{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0ab4abb52ddbcc6d8ec2d809b6282b8bd1}\label{ioreg_8h_ab8d3ca34dd6f6dcfa2184a88ea429bd0ab4abb52ddbcc6d8ec2d809b6282b8bd1}} 
A\+C\+\_\+\+WR&Set register as written \\
\hline

\end{DoxyEnumFields}


\subsection{Function Documentation}
\mbox{\Hypertarget{ioreg_8h_af56c6a4168ccbc88da6a5d1984133c0b}\label{ioreg_8h_af56c6a4168ccbc88da6a5d1984133c0b}} 
\index{ioreg.\+h@{ioreg.\+h}!I\+O\+Reg\+\_\+\+Ack@{I\+O\+Reg\+\_\+\+Ack}}
\index{I\+O\+Reg\+\_\+\+Ack@{I\+O\+Reg\+\_\+\+Ack}!ioreg.\+h@{ioreg.\+h}}
\subsubsection{\texorpdfstring{I\+O\+Reg\+\_\+\+Ack()}{IOReg\_Ack()}}
{\footnotesize\ttfamily uint8\+\_\+t I\+O\+Reg\+\_\+\+Ack (\begin{DoxyParamCaption}\item[{\hyperlink{struct_i_o_reg}{I\+O\+Reg} $\ast$}]{self,  }\item[{uint16\+\_\+t}]{address }\end{DoxyParamCaption})}



Check if the selected IO register was accessed before and acknowledge it. 


\begin{DoxyParams}{Parameters}
{\em self} & instance of \hyperlink{struct_i_o_reg}{I\+O\+Reg} \\
\hline
{\em address} & address to check\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if accessed, 0 otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{ioreg_8h_a050b34fa7b8346d8ea93be49a00beef0}\label{ioreg_8h_a050b34fa7b8346d8ea93be49a00beef0}} 
\index{ioreg.\+h@{ioreg.\+h}!I\+O\+Reg\+\_\+\+Connect@{I\+O\+Reg\+\_\+\+Connect}}
\index{I\+O\+Reg\+\_\+\+Connect@{I\+O\+Reg\+\_\+\+Connect}!ioreg.\+h@{ioreg.\+h}}
\subsubsection{\texorpdfstring{I\+O\+Reg\+\_\+\+Connect()}{IOReg\_Connect()}}
{\footnotesize\ttfamily uint8\+\_\+t I\+O\+Reg\+\_\+\+Connect (\begin{DoxyParamCaption}\item[{\hyperlink{struct_i_o_reg}{I\+O\+Reg} $\ast$}]{self,  }\item[{\hyperlink{struct_c_p_u}{C\+PU} $\ast$}]{cpu,  }\item[{\hyperlink{struct_p_p_u}{P\+PU} $\ast$}]{ppu,  }\item[{\hyperlink{struct_controller}{Controller} $\ast$}]{ctrl }\end{DoxyParamCaption})}



I\+O\+Reg\+\_\+\+Connect. 


\begin{DoxyParams}{Parameters}
{\em self} & instance of \hyperlink{struct_i_o_reg}{I\+O\+Reg} \\
\hline
{\em cpu} & instance of \hyperlink{struct_c_p_u}{C\+PU} \\
\hline
{\em ppu} & instance of \hyperlink{struct_p_p_u}{P\+PU} \\
\hline
{\em ctrl} & instance of \hyperlink{struct_controller}{Controller}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+SS if succeed, E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+RE otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{ioreg_8h_a8250f90a802b6c70eb0bb3623df8171d}\label{ioreg_8h_a8250f90a802b6c70eb0bb3623df8171d}} 
\index{ioreg.\+h@{ioreg.\+h}!I\+O\+Reg\+\_\+\+Create@{I\+O\+Reg\+\_\+\+Create}}
\index{I\+O\+Reg\+\_\+\+Create@{I\+O\+Reg\+\_\+\+Create}!ioreg.\+h@{ioreg.\+h}}
\subsubsection{\texorpdfstring{I\+O\+Reg\+\_\+\+Create()}{IOReg\_Create()}}
{\footnotesize\ttfamily \hyperlink{struct_i_o_reg}{I\+O\+Reg}$\ast$ I\+O\+Reg\+\_\+\+Create (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Instanciation of \hyperlink{struct_i_o_reg}{I\+O\+Reg}. 

\begin{DoxyReturn}{Returns}
instance of \hyperlink{struct_i_o_reg}{I\+O\+Reg} if succeed 
\end{DoxyReturn}
\mbox{\Hypertarget{ioreg_8h_a0d350409c35be2798ddd95b017a4ea9c}\label{ioreg_8h_a0d350409c35be2798ddd95b017a4ea9c}} 
\index{ioreg.\+h@{ioreg.\+h}!I\+O\+Reg\+\_\+\+Destroy@{I\+O\+Reg\+\_\+\+Destroy}}
\index{I\+O\+Reg\+\_\+\+Destroy@{I\+O\+Reg\+\_\+\+Destroy}!ioreg.\+h@{ioreg.\+h}}
\subsubsection{\texorpdfstring{I\+O\+Reg\+\_\+\+Destroy()}{IOReg\_Destroy()}}
{\footnotesize\ttfamily void I\+O\+Reg\+\_\+\+Destroy (\begin{DoxyParamCaption}\item[{\hyperlink{struct_i_o_reg}{I\+O\+Reg} $\ast$}]{self }\end{DoxyParamCaption})}



Free instance of \hyperlink{struct_i_o_reg}{I\+O\+Reg}. 


\begin{DoxyParams}{Parameters}
{\em self} & instance of \hyperlink{struct_i_o_reg}{I\+O\+Reg} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ioreg_8h_a196fef356357d5def1eebe5a1438f567}\label{ioreg_8h_a196fef356357d5def1eebe5a1438f567}} 
\index{ioreg.\+h@{ioreg.\+h}!I\+O\+Reg\+\_\+\+Extract@{I\+O\+Reg\+\_\+\+Extract}}
\index{I\+O\+Reg\+\_\+\+Extract@{I\+O\+Reg\+\_\+\+Extract}!ioreg.\+h@{ioreg.\+h}}
\subsubsection{\texorpdfstring{I\+O\+Reg\+\_\+\+Extract()}{IOReg\_Extract()}}
{\footnotesize\ttfamily \hyperlink{struct_i_o_reg}{I\+O\+Reg}$\ast$ I\+O\+Reg\+\_\+\+Extract (\begin{DoxyParamCaption}\item[{\hyperlink{struct_mapper}{Mapper} $\ast$}]{mapper }\end{DoxyParamCaption})}



I\+O\+Reg\+\_\+\+Extract. 


\begin{DoxyParams}{Parameters}
{\em mapper} & instance of \hyperlink{struct_mapper}{Mapper}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
instance of \hyperlink{struct_i_o_reg}{I\+O\+Reg} 
\end{DoxyReturn}
\mbox{\Hypertarget{ioreg_8h_a16528b558e5d5d79b739fdf66993b4d6}\label{ioreg_8h_a16528b558e5d5d79b739fdf66993b4d6}} 
\index{ioreg.\+h@{ioreg.\+h}!I\+O\+Reg\+\_\+\+Get@{I\+O\+Reg\+\_\+\+Get}}
\index{I\+O\+Reg\+\_\+\+Get@{I\+O\+Reg\+\_\+\+Get}!ioreg.\+h@{ioreg.\+h}}
\subsubsection{\texorpdfstring{I\+O\+Reg\+\_\+\+Get()}{IOReg\_Get()}}
{\footnotesize\ttfamily uint8\+\_\+t$\ast$ I\+O\+Reg\+\_\+\+Get (\begin{DoxyParamCaption}\item[{\hyperlink{struct_i_o_reg}{I\+O\+Reg} $\ast$}]{self,  }\item[{uint8\+\_\+t}]{access\+Type,  }\item[{uint16\+\_\+t}]{address }\end{DoxyParamCaption})}



Get pointer to access IO register. 


\begin{DoxyParams}{Parameters}
{\em self} & instance of \hyperlink{struct_i_o_reg}{I\+O\+Reg} \\
\hline
{\em access\+Type} & which address type and which type of access (rd,wr) ? \\
\hline
{\em address} & address to access\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to selected IO register 
\end{DoxyReturn}

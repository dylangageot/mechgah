\hypertarget{nrom_8h}{}\section{src/nes/mapper/nrom.h File Reference}
\label{nrom_8h}\index{src/nes/mapper/nrom.\+h@{src/nes/mapper/nrom.\+h}}


header file of N\+R\+OM mapper module  


{\ttfamily \#include \char`\"{}mapper.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ioreg.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../loader/loader.\+h\char`\"{}}\newline
Include dependency graph for nrom.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{nrom_8h__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_map_n_r_o_m___c_p_u}{Map\+N\+R\+O\+M\+\_\+\+C\+PU}
\begin{DoxyCompactList}\small\item\em Memory map of \hyperlink{struct_c_p_u}{C\+PU} when using N\+R\+OM mapper. \end{DoxyCompactList}\item 
struct \hyperlink{struct_map_n_r_o_m___p_p_u}{Map\+N\+R\+O\+M\+\_\+\+P\+PU}
\begin{DoxyCompactList}\small\item\em Memory map of \hyperlink{struct_p_p_u}{P\+PU} when using N\+R\+OM mapper. \end{DoxyCompactList}\item 
struct \hyperlink{struct_map_n_r_o_m}{Map\+N\+R\+OM}
\begin{DoxyCompactList}\small\item\em Memory map used when using N\+R\+OM mapper. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{nrom_8h_a6744e81522354f227e123448e7600f26}\label{nrom_8h_a6744e81522354f227e123448e7600f26}} 
\#define {\bfseries N\+R\+O\+M\+\_\+\+R\+A\+M\+\_\+\+S\+I\+ZE}~2048
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{nrom_8h_a6747c71ae48919ee77e55bdc9f7c2953}\label{nrom_8h_a6747c71ae48919ee77e55bdc9f7c2953}} 
enum \hyperlink{nrom_8h_a6747c71ae48919ee77e55bdc9f7c2953}{N\+R\+O\+M\+Size} \{ {\bfseries N\+R\+O\+M\+\_\+32\+K\+IB} = 0, 
{\bfseries N\+R\+O\+M\+\_\+16\+K\+IB}, 
{\bfseries N\+R\+O\+M\+\_\+\+U\+N\+D\+E\+F\+I\+N\+ED}
 \}\begin{DoxyCompactList}\small\item\em Describe if the loaded R\+OM use 16 or 32kiB. \end{DoxyCompactList}
\item 
\mbox{\Hypertarget{nrom_8h_ac78833825c8300ad67c8bfa114053f8b}\label{nrom_8h_ac78833825c8300ad67c8bfa114053f8b}} 
enum \hyperlink{nrom_8h_ac78833825c8300ad67c8bfa114053f8b}{N\+R\+O\+M\+Mirroring} \{ {\bfseries N\+R\+O\+M\+\_\+\+H\+O\+R\+I\+Z\+O\+N\+T\+AL} = 0, 
{\bfseries N\+R\+O\+M\+\_\+\+V\+E\+R\+T\+I\+C\+AL}
 \}\begin{DoxyCompactList}\small\item\em Describe the mirroring mecanism to use. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_mapper}{Mapper} $\ast$ \hyperlink{nrom_8h_a8099bfb7d89ac70998c53004b6f97ef0}{Map\+N\+R\+O\+M\+\_\+\+Create} (\hyperlink{struct_header}{Header} $\ast$header)
\begin{DoxyCompactList}\small\item\em Allocate memory for N\+R\+OM mapper. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{nrom_8h_ac335ad14b2bf08cb5af11deb0a3b0583}{Map\+N\+R\+O\+M\+\_\+\+Get} (void $\ast$mapper\+Data, uint8\+\_\+t space, uint16\+\_\+t address)
\begin{DoxyCompactList}\small\item\em Give access to the data addressed in argument. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{nrom_8h_aa54557799a0346995107e4ea2ef2a7a6}{Map\+N\+R\+O\+M\+\_\+\+Ack} (void $\ast$mapper\+Data, uint16\+\_\+t address)
\begin{DoxyCompactList}\small\item\em Acknowledge \hyperlink{struct_i_o_reg}{I\+O\+Reg} from \hyperlink{struct_map_n_r_o_m}{Map\+N\+R\+OM}. \end{DoxyCompactList}\item 
void \hyperlink{nrom_8h_a387ac6b9eb4e203e7823ae50c2f1120e}{Map\+N\+R\+O\+M\+\_\+\+Destroy} (void $\ast$mapper\+Data)
\begin{DoxyCompactList}\small\item\em Destroy/free the mapper. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
header file of N\+R\+OM mapper module 

\begin{DoxyAuthor}{Author}
Dylan Gageot 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2019-\/02-\/20 
\end{DoxyDate}


\subsection{Function Documentation}
\mbox{\Hypertarget{nrom_8h_aa54557799a0346995107e4ea2ef2a7a6}\label{nrom_8h_aa54557799a0346995107e4ea2ef2a7a6}} 
\index{nrom.\+h@{nrom.\+h}!Map\+N\+R\+O\+M\+\_\+\+Ack@{Map\+N\+R\+O\+M\+\_\+\+Ack}}
\index{Map\+N\+R\+O\+M\+\_\+\+Ack@{Map\+N\+R\+O\+M\+\_\+\+Ack}!nrom.\+h@{nrom.\+h}}
\subsubsection{\texorpdfstring{Map\+N\+R\+O\+M\+\_\+\+Ack()}{MapNROM\_Ack()}}
{\footnotesize\ttfamily uint8\+\_\+t Map\+N\+R\+O\+M\+\_\+\+Ack (\begin{DoxyParamCaption}\item[{void $\ast$}]{mapper\+Data,  }\item[{uint16\+\_\+t}]{address }\end{DoxyParamCaption})}



Acknowledge \hyperlink{struct_i_o_reg}{I\+O\+Reg} from \hyperlink{struct_map_n_r_o_m}{Map\+N\+R\+OM}. 


\begin{DoxyParams}{Parameters}
{\em mapper\+Data} & instance of \hyperlink{struct_map_n_r_o_m}{Map\+N\+R\+OM} \\
\hline
{\em address} & address to check if it was accessed\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if it was accessed, 0 otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{nrom_8h_a8099bfb7d89ac70998c53004b6f97ef0}\label{nrom_8h_a8099bfb7d89ac70998c53004b6f97ef0}} 
\index{nrom.\+h@{nrom.\+h}!Map\+N\+R\+O\+M\+\_\+\+Create@{Map\+N\+R\+O\+M\+\_\+\+Create}}
\index{Map\+N\+R\+O\+M\+\_\+\+Create@{Map\+N\+R\+O\+M\+\_\+\+Create}!nrom.\+h@{nrom.\+h}}
\subsubsection{\texorpdfstring{Map\+N\+R\+O\+M\+\_\+\+Create()}{MapNROM\_Create()}}
{\footnotesize\ttfamily \hyperlink{struct_mapper}{Mapper}$\ast$ Map\+N\+R\+O\+M\+\_\+\+Create (\begin{DoxyParamCaption}\item[{\hyperlink{struct_header}{Header} $\ast$}]{header }\end{DoxyParamCaption})}



Allocate memory for N\+R\+OM mapper. 


\begin{DoxyParams}{Parameters}
{\em header} & containing all R\+OM informations\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the new allocated mapper 
\end{DoxyReturn}
\mbox{\Hypertarget{nrom_8h_a387ac6b9eb4e203e7823ae50c2f1120e}\label{nrom_8h_a387ac6b9eb4e203e7823ae50c2f1120e}} 
\index{nrom.\+h@{nrom.\+h}!Map\+N\+R\+O\+M\+\_\+\+Destroy@{Map\+N\+R\+O\+M\+\_\+\+Destroy}}
\index{Map\+N\+R\+O\+M\+\_\+\+Destroy@{Map\+N\+R\+O\+M\+\_\+\+Destroy}!nrom.\+h@{nrom.\+h}}
\subsubsection{\texorpdfstring{Map\+N\+R\+O\+M\+\_\+\+Destroy()}{MapNROM\_Destroy()}}
{\footnotesize\ttfamily void Map\+N\+R\+O\+M\+\_\+\+Destroy (\begin{DoxyParamCaption}\item[{void $\ast$}]{mapper\+Data }\end{DoxyParamCaption})}



Destroy/free the mapper. 


\begin{DoxyParams}{Parameters}
{\em mapper\+Data} & Memory map pointer \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{nrom_8h_ac335ad14b2bf08cb5af11deb0a3b0583}\label{nrom_8h_ac335ad14b2bf08cb5af11deb0a3b0583}} 
\index{nrom.\+h@{nrom.\+h}!Map\+N\+R\+O\+M\+\_\+\+Get@{Map\+N\+R\+O\+M\+\_\+\+Get}}
\index{Map\+N\+R\+O\+M\+\_\+\+Get@{Map\+N\+R\+O\+M\+\_\+\+Get}!nrom.\+h@{nrom.\+h}}
\subsubsection{\texorpdfstring{Map\+N\+R\+O\+M\+\_\+\+Get()}{MapNROM\_Get()}}
{\footnotesize\ttfamily void$\ast$ Map\+N\+R\+O\+M\+\_\+\+Get (\begin{DoxyParamCaption}\item[{void $\ast$}]{mapper\+Data,  }\item[{uint8\+\_\+t}]{space,  }\item[{uint16\+\_\+t}]{address }\end{DoxyParamCaption})}



Give access to the data addressed in argument. 


\begin{DoxyParams}{Parameters}
{\em mapper\+Data} & Memory map pointer \\
\hline
{\em space} & \hyperlink{struct_c_p_u}{C\+PU} or \hyperlink{struct_p_p_u}{P\+PU} address space ? \\
\hline
{\em address} & Address of the data to fetch\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void$\ast$ pointer of the data addressed 
\end{DoxyReturn}
